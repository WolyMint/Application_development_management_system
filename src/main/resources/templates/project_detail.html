<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${project.title}">Название приложения</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
<h2 th:text="${project.title}">Название приложения</h2>
<p th:text="${project.description}">Описание приложения</p>

<h4>Задачи</h4>
<ul class="list-group mb-3">
    <li th:each="task : ${project.tasks}" class="list-group-item d-flex justify-content-between align-items-center">
        <div>
            <p class="mb-1" th:text="${task.title}">Название задачи</p>
            <small th:text="'Статус: ' + (${task.completed} ? '✅ Выполнено' : '⏳ В процессе')">Статус</small><br/>
            <span th:if="${task.assignedUser != null}" th:text="'Исполнитель: ' + ${task.assignedUser.login}">Исполнитель</span>
<!--            <div class="mb-3">-->
<!--                <label class="form-label">Статус</label>-->
<!--                <select th:field="*{status}" class="form-select">-->
<!--                    <option th:each="stat : ${T(com.example.task.model.ProjectStatus).values()}"-->
<!--                            th:value="${stat}"-->
<!--                            th:text="${stat.displayName}">-->
<!--                    </option>-->
<!--                </select>-->
<!--            </div>-->
        </div>
        <div>
            <form th:action="@{'/task/assign/' + ${task.id}}" method="post" th:if="${task.assignedUser == null}">
                <button type="submit" class="btn btn-success btn-sm">Взять в работу</button>
            </form>
        </div>
    </li>
</ul>
</body>
</html>
